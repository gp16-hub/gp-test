syntax = "proto3";

package external;
option go_package = "./external";

service External {
  rpc CreateTaskForCustomer(CreateTaskForCustomerRequest)
      returns (CreateTaskForCustomerResponse);
  rpc CreateSubscriptionListForCustomer(
      CreateSubscriptionListForCustomerRequest)
      returns (CreateSubscriptionListForCustomerResponse);
}

message Meta {
  optional string country = 1;
  optional string zip_code = 2;
  optional string language = 3;
}

message CreateTaskForCustomerRequest {
  optional string name = 1;
  repeated Phones phones = 2;
  repeated Emails emails = 3;
  optional string order_number = 4;
  optional string po_number = 5;
  optional string subject = 6;
  optional string comment = 7;
  optional string issue_type = 8;
  optional string reason = 9;
  repeated string images = 10;
  optional Meta meta = 11;
  optional string inbox_name = 12;
}

message Emails {
  optional string original = 1;
}

message Phones {
  optional string original = 1;
  optional string type = 2;
}

message CreateTaskForCustomerResponse {}

message CreateSubscriptionListForCustomerRequest {
  optional string action = 1;  // subscribe, unsubscribe
  optional string email = 2;
  optional string source = 3;
  repeated string list = 4;
}

message CreateSubscriptionListForCustomerResponse {}